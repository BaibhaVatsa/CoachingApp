name: CI

on:
  push:
    branches: 
      - master

jobs:
  build:

    runs-on: ubuntu-latest
    
    steps:
    - name: Setup Node
      run: |
        sudo apt install curl
        curl -sL https://deb.nodesource.com/setup_10.x | sudo -E bash -
        sudo apt install nodejs
        node --version
        npm --version
        
    - name: npm install, build and test  
      shell: sh
      working-directory: ./
      run: |
        ls
        sudo npm i npm -g
        sudo npm i eslint -g
        sudo npm install
        sudo npm run lint
        sudo npm run test
      env:
        CI: true
